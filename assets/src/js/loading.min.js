const $= window.jQuery;
 class spfloading {
        constructor(options,call) {
           
            var defaults = {
                modalContainer: 'order-tracking-popup',
             
                loading: '',
                modal: null,
                modalOptions: {
                    hashTracking: false,
                    closeOnOutsideClick: false,
                }
            }, modalInstance;

            this.settings = $.extend(defaults, options);
            this.load(call);


        }
        load(call) {
            var _this = this;
            $('body').append('<div class="remodal" id="' + _this.settings.modalContainer + '" data-remodal-id="' + _this.settings.modalContainer + '"><img src="' + _this.settings.loading + '"</div>');
           this.settings.modal = $('[data-remodal-id='+_this.settings.modalContainer+']').remodal(_this.settings.modalOptions);
            $(document).on('closed', '', function () {
                _this.settings.modal.destroy();

                if (typeof call == 'function')
                    call();

            });
         
            return this;
        }
        setHtml(content) {
            $('#'+this.settings.modalContainer).html(content);
        }
        open() {
          
            this.settings.modal.open();

        }
        close () {
            this.settings.modal.close();
        }
    }

export{
    spfloading
}