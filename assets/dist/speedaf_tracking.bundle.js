(()=>{var t={856:function(t,a,n){var e,i,s;s=this,e=[n(73)],i=function(t){return function(t,a){"use strict";var n,e,i,s="remodal",o=t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.NAMESPACE||s,r=a.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],(function(t){return t+"."+o})).join(" "),d=a.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],(function(t){return t+"."+o})).join(" "),l=a.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:"",appendTo:null},t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.DEFAULTS),c="closing",p="closed",m="opening",u="opened",g="confirmation",h="cancellation",f=void 0!==(i=document.createElement("div").style).animationName||void 0!==i.WebkitAnimationName||void 0!==i.MozAnimationName||void 0!==i.msAnimationName||void 0!==i.OAnimationName,v=/iPad|iPhone|iPod/.test(navigator.platform);function y(t){if(f&&"none"===t.css("animation-name")&&"none"===t.css("-webkit-animation-name")&&"none"===t.css("-moz-animation-name")&&"none"===t.css("-o-animation-name")&&"none"===t.css("-ms-animation-name"))return 0;var a,n,e,i,s=t.css("animation-duration")||t.css("-webkit-animation-duration")||t.css("-moz-animation-duration")||t.css("-o-animation-duration")||t.css("-ms-animation-duration")||"0s",o=t.css("animation-delay")||t.css("-webkit-animation-delay")||t.css("-moz-animation-delay")||t.css("-o-animation-delay")||t.css("-ms-animation-delay")||"0s",r=t.css("animation-iteration-count")||t.css("-webkit-animation-iteration-count")||t.css("-moz-animation-iteration-count")||t.css("-o-animation-iteration-count")||t.css("-ms-animation-iteration-count")||"1";for(s=s.split(", "),o=o.split(", "),r=r.split(", "),i=0,n=s.length,a=Number.NEGATIVE_INFINITY;i<n;i++)(e=parseFloat(s[i])*parseInt(r[i],10)+parseFloat(o[i]))>a&&(a=e);return a}function $(){if(a(document).height()<=a(window).height())return 0;var t,n,e=document.createElement("div"),i=document.createElement("div");return e.style.visibility="hidden",e.style.width="100px",document.body.appendChild(e),t=e.offsetWidth,e.style.overflow="scroll",i.style.width="100%",e.appendChild(i),n=i.offsetWidth,e.parentNode.removeChild(e),t-n}function b(){if(!v){var t,n,e=a("html"),i=D("is-locked");e.hasClass(i)&&(n=a(document.body),t=parseInt(n.css("padding-right"),10)-$(),n.css("padding-right",t+"px"),e.removeClass(i))}}function w(t,a,n,e){var i=D("is",a),s=[D("is",c),D("is",m),D("is",p),D("is",u)].join(" ");t.$bg.removeClass(s).addClass(i),t.$overlay.removeClass(s).addClass(i),t.$wrapper.removeClass(s).addClass(i),t.$modal.removeClass(s).addClass(i),t.state=a,!n&&t.$modal.trigger({type:a,reason:e},[{reason:e}])}function C(t,n,e){var i=0,s=function(t){t.target===this&&i++},o=function(t){t.target===this&&0==--i&&(a.each(["$bg","$overlay","$wrapper","$modal"],(function(t,a){e[a].off(r+" "+d)})),n())};a.each(["$bg","$overlay","$wrapper","$modal"],(function(t,a){e[a].on(r,s).on(d,o)})),t(),0===y(e.$bg)&&0===y(e.$overlay)&&0===y(e.$wrapper)&&0===y(e.$modal)&&(a.each(["$bg","$overlay","$wrapper","$modal"],(function(t,a){e[a].off(r+" "+d)})),n())}function k(t){t.state!==p&&(a.each(["$bg","$overlay","$wrapper","$modal"],(function(a,n){t[n].off(r+" "+d)})),t.$bg.removeClass(t.settings.modifier),t.$overlay.removeClass(t.settings.modifier).hide(),t.$wrapper.hide(),b(),w(t,p,!0))}function D(){for(var t=o,a=0;a<arguments.length;++a)t+="-"+arguments[a];return t}function O(){var t,e,i=location.hash.replace("#","");if(i){try{e=a('[data-remodal-id="'+i+'"]')}catch(t){}e&&e.length&&(t=a.remodal.lookup[e.data(s)])&&t.settings.hashTracking&&t.open()}else n&&n.state===u&&n.settings.hashTracking&&n.close()}function A(t,n){var e=a(document.body),i=this;i.settings=a.extend({},l,n),i.index=a.remodal.lookup.push(i)-1,i.state=p,i.$overlay=a("."+D("overlay")),null!==i.settings.appendTo&&i.settings.appendTo.length&&(e=a(i.settings.appendTo)),i.$overlay.length||(i.$overlay=a("<div>").addClass(D("overlay")+" "+D("is",p)).hide(),e.append(i.$overlay)),i.$bg=a("."+D("bg")).addClass(D("is",p)),i.$modal=t.addClass(o+" "+D("is-initialized")+" "+i.settings.modifier+" "+D("is",p)).attr("tabindex","-1"),i.$wrapper=a("<div>").addClass(D("wrapper")+" "+i.settings.modifier+" "+D("is",p)).hide().append(i.$modal),e.append(i.$wrapper),i.$wrapper.on("click."+o,'[data-remodal-action="close"]',(function(t){t.preventDefault(),i.close()})),i.$wrapper.on("click."+o,'[data-remodal-action="cancel"]',(function(t){t.preventDefault(),i.$modal.trigger(h),i.settings.closeOnCancel&&i.close(h)})),i.$wrapper.on("click."+o,'[data-remodal-action="confirm"]',(function(t){t.preventDefault(),i.$modal.trigger(g),i.settings.closeOnConfirm&&i.close(g)})),i.$wrapper.on("click."+o,(function(t){a(t.target).hasClass(D("wrapper"))&&i.settings.closeOnOutsideClick&&i.close()}))}A.prototype.open=function(){var t,i=this;i.state!==m&&i.state!==c&&((t=i.$modal.attr("data-remodal-id"))&&i.settings.hashTracking&&(e=a(window).scrollTop(),location.hash=t),n&&n!==i&&k(n),n=i,function(){if(!v){var t,n,e=a("html"),i=D("is-locked");e.hasClass(i)||(n=a(document.body),t=parseInt(n.css("padding-right"),10)+$(),n.css("padding-right",t+"px"),e.addClass(i))}}(),i.$bg.addClass(i.settings.modifier),i.$overlay.addClass(i.settings.modifier).show(),i.$wrapper.show().scrollTop(0),i.$modal.focus(),C((function(){w(i,m)}),(function(){w(i,u)}),i))},A.prototype.close=function(t){var n=this;n.state!==m&&n.state!==c&&n.state!==p&&(n.settings.hashTracking&&n.$modal.attr("data-remodal-id")===location.hash.substr(1)&&(location.hash="",a(window).scrollTop(e)),C((function(){w(n,c,!1,t)}),(function(){n.$bg.removeClass(n.settings.modifier),n.$overlay.removeClass(n.settings.modifier).hide(),n.$wrapper.hide(),b(),w(n,p,!1,t)}),n))},A.prototype.getState=function(){return this.state},A.prototype.destroy=function(){var t=a.remodal.lookup;k(this),this.$wrapper.remove(),delete t[this.index],0===a.grep(t,(function(t){return!!t})).length&&(this.$overlay.remove(),this.$bg.removeClass(D("is",c)+" "+D("is",m)+" "+D("is",p)+" "+D("is",u)))},a.remodal={lookup:[]},a.fn.remodal=function(t){var n,e;return this.each((function(i,o){null==(e=a(o)).data(s)?(n=new A(e,t),e.data(s,n.index),n.settings.hashTracking&&e.attr("data-remodal-id")===location.hash.substr(1)&&n.open()):n=a.remodal.lookup[e.data(s)]})),n},a(document).ready((function(){a(document).on("click","[data-remodal-target]",(function(t){t.preventDefault();var n=t.currentTarget.getAttribute("data-remodal-target"),e=a('[data-remodal-id="'+n+'"]');a.remodal.lookup[e.data(s)].open()})),a(document).find("."+o).each((function(t,n){var e=a(n),i=e.data("remodal-options");i?("string"==typeof i||i instanceof String)&&(i=function(t){var a,n,e,i,s={};for(i=0,n=(a=(t=t.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",")).split(",")).length;i<n;i++)a[i]=a[i].split(":"),("string"==typeof(e=a[i][1])||e instanceof String)&&(e="true"===e||"false"!==e&&e),("string"==typeof e||e instanceof String)&&(e=isNaN(e)?e:+e),s[a[i][0]]=e;return s}(i)):i={},e.remodal(i)})),a(document).on("keydown."+o,(function(t){n&&n.settings.closeOnEscape&&n.state===u&&27===t.keyCode&&n.close()})),a(window).on("hashchange."+o,O)}))}(s,t)}.apply(a,e),void 0===i||(t.exports=i)},73:t=>{"use strict";t.exports=window.jQuery}},a={};function n(e){var i=a[e];if(void 0!==i)return i.exports;var s=a[e]={exports:{}};return t[e].call(s.exports,s,s.exports,n),s.exports}(()=>{"use strict";var t=n(73);n(856);const a=n(73);class e{constructor(t){this.spfData=t.spfData||window.sdfOrderData;var a={modalContainer:"order-tracking-popup",modalOptions:{hashTracking:!1,closeOnOutsideClick:!1},url:this.spfData.ajax_url,loading:this.spfData.loading,modal:null};this.settings=Object.assign(a,t),this.settings.params.action=this.spfData.action,this.settings.params._ajax_nonce=this.spfData.nonce,this._init()}_init(){return 0===a("#"+this.settings.modalContainer).length&&a("body").append('<div class="remodal" id="'+this.settings.modalContainer+'" data-remodal-id="'+this.settings.modalContainer+'"><img src="'+this.settings.loading+'"</div>'),this.settings.modal=a("[data-remodal-id=order-tracking-popup]"),this}modal(t){this.settings.modal||this._init();var n=this.settings.modal.remodal(this.settings.modalOptions);return a(document).on("closed","",(function(){n.destroy(),"function"==typeof t&&t()})),n}tracking(){var t=this;return this.settings.params.type=this.spfData.tracking,a(t.settings.target).attr("disabled","disabled"),this.modal((function(){a(t.settings.target).removeAttr("disabled")})).open(),this.request(),this}printLabel(){return this.settings.params.type=this.spfData.printLabel,this.request(),this}request(){var t=this,n=this.settings.params;void 0!==n.type&&n.action==this.spfData.action||this.error(this.spfData.Warning,this.spfData.not_found,this.spfData.confirm_button),a.post(this.settings.url,n,(function(e){if(e.success)switch(n.type){case t.spfData.tracking:t.setModalContent(e.data.tracking_html),a(t.settings.target).removeAttr("disabled");break;case t.spfData.printLabel:e.data.label_url.length>0&&window.open(e.data.label_url+"?response-content-type=application/pdf")}else t.error(t.spfData.Warning,e.msg,t.spfData.confirm_button),a(t.settings.target).removeAttr("disabled")}))}setModalContent(t){return a("#"+this.settings.modalContainer).html(t),this}error(t,n,e){var i='<div style="margin: 1rem 0;"><div class="error-title"><span>'+t+'</span></div><div class="error-content"><div class="error-remodal"><div class="bigIcon" style="background-position: 0px -96px;"></div><div>'+n+'</div></div><div style="text-align:right;"><button data-remodal-action="cancel" class="remodal-confirm">'+e+"</button></div></div>";this.settings.modalOptions={hashTracking:!1,closeOnOutsideClick:!0};var s=this.modal();this.setModalContent(i),a("#"+this.settings.modalContainer).hasClass("popup-error")||a("#"+this.settings.modalContainer).addClass("popup-error"),s.open()}}t((function(){var a=window.sdfOrderData;function n(t){return""!==t||((new e).error(a.Warning,a.not_found,a.confirm_button),!1)}t(document).on("click","#print-tracking",(function(i){var s=t(i.target).val();n(s)&&new e({spfData:a,params:{bill:s},target:i.target}).tracking()})),t(document).on("click","#print-label",(function(i){var s=t(i.target);n(s.val())&&new e({spfData:a,params:{billID:s.val()},target:i.target}).printLabel()}))}))})()})();